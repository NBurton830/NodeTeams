# github action main.yml template
name: A workflow for ranked teams
on: push
# job to run index.js with output.text
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install Node
        uses: actions/setup-node@v1
      - name: Install Node Dependencies
        run: npm install
      - name: Run the script
        run: node index.js
      - name: Copy the output file
        uses: actions/copy-output@v2
        with:
          path: './team-output.txt'
          content: './team-output.txt'
      - name: Update the repo
        run: git add . && git commit -m "Added team output file" && git push origin master
      - name: Create a pull request
        uses: actions/create-pull-request@v1
        with:
          title: 'Ranked Teams'
          head: '{{{github.actor}}}:master'
          base: 'master'
          body: 'Automatic pull request generated by Github Actions.'